<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
	<title>Examples</title>
	<style type="text/css">	
		
	</style>
</head>
<body>
	<div id="shemei"></div>
	<!-- <script src="./lib/browser.min.js"></script> -->
	<!-- <script src="./lib/polyfill.min.js"></script> -->
	<script src="https://cdn.bootcss.com/babel-core/6.1.19/browser.min.js"></script>
	<script src="https://cdn.bootcss.com/babel-polyfill/7.0.0-alpha.7/polyfill.min.js"></script>
	<script src="./lib/fetch.min.js"></script>
	<script type="text/babel">

		// Promise
		// let promise = new Promise((resolve, reject) => {
		// 	console.log('promise')
		// 	resolve()
		// })
		// promise.then((resolve, reject) => {
		// 	console.log('resolve')
		// 	return reject;
		// }, () => {
		// 	console.log('reject')
		// }).then(() => {
		// 	console.log('resolve 2')
		// }, () => {
		// 	console.log('reject 2')
		// })
		
		// let promise = new Promise((resolve, reject) => {

		// 	if (true) {
		// 		resolve()				
		// 	} else {
		// 		reject()
		// 	}
		// })

		// promise.then(() => {
		// 	console.log('resolved')	
		// 	return Promise.reject()
		// }).then(() => {
		// 	console.log('resolved')
		// }).catch(() => {
		// 	console.log('catched')
		// })	

		let promise	= new Promise((resolve, reject) => {
			console.log('promise')
			resolve()
		})

		promise.then(() => {
			console.log('resolve')
			return new Promise()
		}).then(() => {

		}).catch(() => {
			console.log('catched')
		})

		// Generator
		// function* AGenerator() {
		// 	yield 'she';
		// 	yield 'mei';
		// 	yield 'hello';
		// 	return {
		// 		1: 'shemei',
		// 		2: 'shemei'
		// 	};
		// }
		// var ag = AGenerator();
		// console.log(ag.next());
		// console.log(ag.next());
		// console.log(ag.next());
		// console.log(ag.next());
		// console.log(ag.next());
		// console.log(ag.next());
		
		// var myIterable = {}
		// myIterable[Symbol.iterator] = function* () {
		// 	yield 'she';
		// 	yield 'mei';
		// 	yield 'zhi';
		// 	yield 'xia';
		// 	return 'haha';
		// }

		// console.log([...myIterable])
		
		function* AGenerator() {
			try {
				yield 'she'
				yield 'shr'
				yield 'shy'
			} catch(error) {
				console.log('内部捕获:' + error)
			} finally {				
				yield 'fin'
				yield 'sss'
				yield 'xxx'
			}
			yield 'mei'
			yield 'zhi'
			yield 'xia'
		}
		// var ag = AGenerator()
		// // console.log([...ag])
		// console.log(ag.next())		
		// // try {
		// // 	ag.throw('a')
		// // } catch(error) {
		// // 	console.log('外部捕获:' + error)
		// // }
		// console.log(ag.next())
		// console.log(ag.return('over'))
		// console.log([...ag])
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())
		// console.log(ag.next())

		// var a = {}
		// a[Symbol.iterator] = function() {
		// 	var index = 0;
		//   	return {
		// 		next: function() {
		// 	  		return {value: index++, done: index >= 4 ? true : false};
		// 		}
		//   	};
		// }
		// for(var item of a) {
		// 	console.log(item)
		// }
		// console.log([...a])
		
		function* BGenerator () {
			yield console.log('she')
			yield console.log('mei')
		}
		var bg = BGenerator()
		bg.next()
		bg.next()
		
		console.log('async function')
		const getJson = () => {
			fetch('http://10.1.133.143:3000/message', {
				method: 'GET'
			}).then((res) => {
				return res.json()
			}).then((json) => {
				console.log(json)
				// return json
			})
		}

		const makeRequest = async () => {
			await getJson()
			console.log("done")

			return "done"
		}

		makeRequest()

	</script>
</body>
</html>